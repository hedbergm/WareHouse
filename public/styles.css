:root{ --accent:#0b6efd; --muted:#666; --bg:#f7f9fc }
*{box-sizing:border-box}
body { font-family: Inter, -apple-system, system-ui, Roboto, 'Segoe UI', Arial; padding: 24px; background:var(--bg); color:#222; line-height:1.4 }
body.full { max-width:none }
main.container, .container { max-width:1080px; margin:0 auto }
h1, h2, h3 { font-weight:600; letter-spacing:.5px }
nav.portal-nav { display:flex; gap:18px; flex-wrap:wrap; margin:12px 0 24px }
nav.portal-nav a { text-decoration:none; color:var(--accent); font-weight:500 }
nav.portal-nav a.active { position:relative }
nav.portal-nav a.active:after { content:''; position:absolute; left:0; bottom:-4px; height:2px; width:100%; background:var(--accent); border-radius:2px }
header.portal-header { display:flex; align-items:flex-end; gap:20px; flex-wrap:wrap; margin-bottom:4px }
header.portal-header .tagline { color:#555; font-size:14px }
footer.site { margin-top:60px; font-size:12px; color:#666; text-align:center }
/* Cards (home portal + generic) */
.card-grid { display:flex; flex-wrap:wrap; gap:20px }
.app-card { border:1px solid #e2e2e2; border-radius:14px; padding:20px 22px; flex:1 1 280px; min-width:250px; background:#fff; display:flex; flex-direction:column; gap:10px; box-shadow:0 2px 4px rgba(0,0,0,.04); transition:.18s box-shadow, .18s border-color }
.app-card h3 { margin:0 0 4px }
.app-card p { margin:0; font-size:14px; color:#444 }
.app-card:hover { border-color:#c5ced8; box-shadow:0 6px 18px -4px rgba(0,0,0,.1) }
a.card-link { text-decoration:none; color:inherit }
.badge { background:#0d6efd; color:#fff; font-size:11px; padding:2px 6px; border-radius:12px; letter-spacing:.5px; font-weight:600 }
.badge.soon { background:#ff9800 }
.card-footer { margin-top:auto; font-size:12px; font-weight:600; color:var(--accent) }
.card-disabled .badge { filter:grayscale(.3); opacity:.85 }
.card-disabled { opacity:.75 }
/* Portal utility */
.muted-link { color:#555; text-decoration:none }
.muted-link:hover { text-decoration:underline }
section { margin-bottom: 20px; background:#fff; border-radius:8px; box-shadow:0 1px 3px rgba(10,10,10,0.05); padding:16px }
h1 { margin-top: 0; font-weight:600 }
input, button { font-size:14px; padding:8px 10px; border-radius:6px; border:1px solid #ddd }
label{font-size:12px; color:var(--muted); display:block; margin-bottom:6px}
.form-row{display:flex;gap:12px}
.col{flex:1}
.col.small{flex:0 0 100px}
.actions{display:flex;align-items:center;gap:12px;margin-top:12px}
.btn{background:var(--accent); color:#fff; border:none; cursor:pointer; transition:.18s background,.18s box-shadow}
.btn:hover{background:#0856c0}
.btn:active{box-shadow:0 0 0 2px rgba(13,110,253,.25)}
.list{margin-top:12px}
.part-row{display:flex;align-items:center;justify-content:space-between;padding:10px;border-top:1px solid #f0f0f0}
.part-left{flex:1}
.part-right img{height:48px}
.desc{color:var(--muted);font-size:13px}
.meta{font-size:12px;color:var(--muted);margin-top:6px}
.barcode-box{min-width:200px;height:64px;display:flex;align-items:center;justify-content:center;border:1px dashed #eee;padding:6px;background:#fafafa;border-radius:6px}
.locs{margin-top:8px;display:flex;flex-direction:column;gap:6px}
.loc-item{font-size:13px;color:#333;background:#f8f9fb;padding:6px;border-radius:6px;border:1px solid #f0f3f6}
.loc-item.muted{color:var(--muted);background:transparent;border:none;padding:0}
.btn.small{padding:6px 8px;font-size:13px}
.btn.danger{background:#ff4d4f}
.btn.danger:hover{background:#e63638}
.loc-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
.loc-right{display:flex;gap:8px}

/* Responsive tweaks */
@media (max-width:820px){
	.form-row { flex-direction:column }
	.app-card { flex:1 1 100%; min-width:unset }
	nav.portal-nav { gap:12px }
	body { padding:18px }
}

/* Mobile scanner centering */
#scanner-area{display:flex;flex-direction:column;align-items:center}
#video{max-width:560px;width:100%;margin:0 auto;display:flex;justify-content:center;align-items:center;aspect-ratio:16/9;position:relative;overflow:hidden;border:2px solid #111;background:#000;border-radius:10px}
#video video,#video canvas{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);/* ensure center */width:auto!important;height:100%!important;min-width:100%;min-height:100%;object-fit:cover}
#video img{max-width:100%;border-radius:8px}
#video .scan-guide{position:absolute;inset:0;pointer-events:none;}
#video .scan-guide:before{content:"";position:absolute;top:50%;left:50%;width:52%;height:52%;transform:translate(-50%,-50%);border:2px solid rgba(255,255,255,.55);border-radius:8px;box-shadow:0 0 0 200vmax rgba(0,0,0,.15) inset}
#video.scanning-loc .scan-guide:before{border-color:rgba(0,200,255,.75);}
#video.scanning-part .scan-guide:before{border-color:rgba(255,210,0,.8);}
